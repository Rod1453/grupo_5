<%- include('../partials/headParte1') %>
<!--Aqui se agregan los estilos personales-->
<link rel="stylesheet" href="/css/productForm.css">

<%- include('../partials/headParte2') %>

<%- include('../partials/header') %>

<main>
  <div class="content">

    <!-- <h1 class="logo">Publica Un Libro Nuevo</h1> -->

    <div class="box">
      <div class="libro-form">
          <h1 class="titulo">Publica Un Libro Nuevo</h1>
          <form action="/products/edit/<%= book.id %>" method="POST">
            <div>
              <p>
                <label for="titulo">Título</label>
                <input type="text" name="titulo" id="titulo"
                  value="<%=locals.oldData?oldData.titulo: book.titulo %>"/>
                <% if (locals.errors && errors.titulo) { %>
                  <p class="error-msg">*<%= errors.titulo.msg %></p>
                <% } %>
              </p>
            </div>
            <div>
              <p>
                <label for="autor">Autor</label>
                <input type="text" name="autor" id="autor"
                  value="<%=locals.oldData?oldData.autor: book.autor %>"/>
                <% if (locals.errors && errors.autor) { %>
                  <p class="error-msg">*<%= errors.autor.msg %></p>
                <% } %>
              </p>
            </div>
            <div>
              <p>
                <label for="editorial">Editorial</label>
                <input type="text" name="editorial" id="editorial"
                  value="<%=locals.oldData?oldData.editorial: book.editorial %>"/>
                <% if (locals.errors && errors.editorial) { %>
                  <p class="error-msg">*<%= errors.editorial.msg %></p>
                <% } %>
              </p>
            </div>
            <div>
              <p>
                <label for="paginas">Páginas</label>
                <input type="number" name="paginas" id="paginas"
                  value="<%=locals.oldData?oldData.paginas: book.paginas %>"/>
                <% if (locals.errors && errors.paginas) { %>
                  <p class="error-msg">*<%= errors.paginas.msg %></p>
                <% } %>
              </p>
            </div>
            <div>
              <p>
                <label for="idioma">Idioma</label>
                <input type="text" name="idioma" id="idioma"
                  value="<%=locals.oldData?oldData.idioma: book.idioma %>"/>
                <% if (locals.errors && errors.idioma) { %>
                  <p class="error-msg">*<%= errors.idioma.msg %></p>
                <% } %>
              </p>
            </div>
            <div>
              <p>
                <label for="tipo_tapa">Tipo de Tapa</label>
                <input type="text" name="tipo_tapa" id="tipo_tapa"
                  value="<%=locals.oldData?oldData.tipo_tapa: book.tipo_tapa %>"/>
                <% if (locals.errors && errors.tipo_tapa) { %>
                  <p class="error-msg">*<%= errors.tipo_tapa.msg %></p>
                <% } %>
              </p>
            </div>
            <div>
              <p>
                <label for="tematica">Temática</label>
                <input type="text" name="tematica" id="tematica"
                  value="<%=locals.oldData?oldData.tematica: book.tematica %>"/>
                <% if (locals.errors && errors.tematica) { %>
                  <p class="error-msg">*<%= errors.tematica.msg %></p>
                <% } %>
              </p>
            </div>
            <div>
              <p>
                <label for="stock">Stock</label>
                <input type="number" name="stock" id="stock"
                  value="<%=locals.oldData?oldData.stock: book.stock %>"/>
                <% if (locals.errors && errors.stock) { %>
                  <p class="error-msg">*<%= errors.stock.msg %></p>
                <% } %>
              </p>
            </div>
            <div>
              <p>
                <label for="precio">Precio</label>
                <input type="number" id="precio" name="precio" min="0" max="9999" placeholder="$"
                  value="<%=locals.oldData?oldData.precio: book.precio %>"/>
                <% if (locals.errors && errors.precio) { %>
                  <p class="error-msg">*<%= errors.precio.msg %></p>
                <% } %>
              </p>
            </div>
            <div>
              <p>
                <label for="lanzamiento">Año de Lanzamiento</label>
                <input type="text" name="lanzamiento" id="lanzamiento" pattern="^\d{4}$" placeholder="YYYY" 
                  value="<%=locals.oldData?oldData.lanzamiento: book.fecha_emision %>"/>
                <% if (locals.errors && errors.lanzamiento) { %>
                  <p class="error-msg">*<%= errors.lanzamiento.msg %></p>
                <% } %>
              </p>
            </div>
            <div>
              <p>
                <label for="sinopsis">Sinopsis</label>
                <input type="text" name="sinopsis" id="sinopsis"
                  value="<%=locals.oldData?oldData.sinopsis: book.sinopsis %>"/>
                <% if (locals.errors && errors.sinopsis) { %>
                  <p class="error-msg">*<%= errors.sinopsis.msg %></p>
                <% } %>
              </p>
            </div>
            
            <!-- <p class="block">
              <label for="portada">Seleccione Foto de Portada</label>
              <input type="file" name="portada" id="portada">
            </p> -->
            <p class="block">
              <button type="submit">
                Guardar cambios
              </button>
            </p>
          </form>
      </div>
      <div class="libro-image">
        
      </div>
    </div>

  </div>
</main>

<%- include('../partials/footer') %>